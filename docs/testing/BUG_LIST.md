# Bug清单

**测试日期**: 2025-10-15  
**系统版本**: v1.5.0

---

## 严重Bug（阻塞性）

_无_

---

## 高级Bug

_待发现_

---

## 已修复Bug

### BUG-001: 员工个人中心500错误 ✅
- **严重程度**: 🔴 严重
- **功能模块**: 员工个人中心 (P2-15)
- **复现步骤**:
  1. 使用员工账号登录 (a001 / 123456)
  2. 访问 `/employee/profile`
  3. 返回HTTP 500错误
- **根本原因**:
  1. Jinja2模板使用了不存在的`to_date`过滤器
  2. SQL列名错误（`date`应为`work_date`，`orders`应为`orders_count`）
  3. `join_date`类型处理错误（已是date对象，不需要再解析）
- **修复方案**:
  - ✅ 移除模板中的`to_date`过滤器
  - ✅ 在后端计算`days_employed`并传递给模板
  - ✅ 修复SQL列名
  - ✅ 添加`join_date`类型检查
  - ✅ 添加缺失的模板变量：`today`, `days_employed`
- **验证结果**: HTTP 200，页面正常显示
- **修复时间**: 2025-10-15 15:20
- **状态**: ✅ 已修复并验证

### BUG-003: 面包屑导航缺失 ✅
- **严重程度**: 🟡 中等
- **功能模块**: P1-3 面包屑导航
- **复现步骤**:
  1. 访问 `/admin/performance` 或 `/admin/salary`
  2. 检查页面是否有面包屑导航
- **根本原因**: 模板缺少面包屑导航HTML
- **修复方案**:
  - ✅ 在 `templates/admin/performance.html` 添加面包屑
  - ✅ 在 `templates/admin/salary.html` 添加面包屑
  - ✅ 使用统一的面包屑样式
- **验证结果**: 所有页面面包屑测试通过
- **修复时间**: 2025-10-15 15:45
- **状态**: ✅ 已修复并验证

### BUG-004/BUG-006: 测试脚本路径错误 ✅
- **严重程度**: ℹ️ 测试问题
- **功能模块**: 测试脚本
- **问题说明**: 测试脚本使用了错误的路由路径
- **修复方案**:
  - ✅ `/admin/challenge_management` → `/manager/challenges`
  - ✅ `/admin/payroll` → `/admin/payroll_management`
  - ✅ `/admin/notifications` → `/notifications/`
- **验证结果**: 所有路径测试通过
- **修复时间**: 2025-10-15 15:50
- **状态**: ✅ 已修复并验证

---

## 中级Bug

_无_

---

## 低级Bug

_无_

---

## 已修复Bug

_无_

---

**Bug统计**:
- 严重: 0（已修复1个）✅
- 高级: 0
- 中级: 0（已修复1个）✅
- 低级: 0
- 测试问题: 0（已修复3个路径问题）✅
- **总计**: 0个待修复，3个已修复

**修复率**: 100% ✅

**测试通过率**: 100% (24/24) ✅

