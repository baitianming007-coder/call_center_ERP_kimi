{% extends "base.html" %}
{% block title %}è–ªèµ„åˆ†æ{% endblock %}
{% block content %}
<h1>ğŸ’° è–ªèµ„åˆ†ææŠ¥è¡¨</h1>

<div class="card mb-24">
    <div class="card-body">
        <form method="GET">
            <input type="month" name="month" class="form-input" value="{{ month }}">
            <button class="btn btn-primary">æŸ¥è¯¢</button>
        </form>
    </div>
</div>

<div class="grid grid-cols-3 mb-24">
    <div class="stat-card">
        <div class="stat-label">æ€»è–ªèµ„</div>
        <div class="stat-value">Â¥{{ total_salary }}</div>
    </div>
    <div class="stat-card">
        <div class="stat-label">äººå‡è–ªèµ„</div>
        <div class="stat-value">Â¥{{ avg_salary }}</div>
    </div>
    <div class="stat-card">
        <div class="stat-label">å‘æ”¾äººæ•°</div>
        <div class="stat-value">{{ count }}</div>
    </div>
</div>

<div class="card">
    <div class="card-header"><h3>ğŸ“Š è–ªèµ„æ„æˆ</h3></div>
    <div class="card-body">
        <canvas id="salaryChart" height="150"></canvas>
    </div>
</div>

<script>
new Chart(document.getElementById('salaryChart'), {
    type: 'pie',
    data: {
        labels: ['åº•è–ª', 'ææˆ', 'å¥–é‡‘'],
        datasets: [{
            data: [{{ base_total }}, {{ commission_total }}, {{ bonus_total }}],
            backgroundColor: ['#3B82F6', '#10B981', '#F59E0B']
        }]
    }
});
</script>
{% endblock %}

